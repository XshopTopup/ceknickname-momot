<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Momot Store - Game Checker</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
      <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlPSIjODg1NEYwIj48cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE2IDExVjdhNCA0IDAgMDAtOCA0djRNNSA5aDE0TTUgMTVoMTRsLTEgNkg2bC0xLTZ6IiAvPjwvc3ZnPg==" />
      
      <style>
         @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
         
         :root {
            --primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --glass-bg: rgba(30, 41, 59, 0.7);
            --glass-border: rgba(255, 255, 255, 0.1);
         }

         body {
            font-family: 'Poppins', sans-serif;
            background-color: #020617; /* Very dark slate */
            background-image: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
            background-attachment: fixed;
            color: #e2e8f0;
            min-height: 100vh;
         }
         
         .container {
            max-width: 1200px;
            margin: 0 auto;
         }
         
         /* Glassmorphism Card Style */
         .card {
            border-radius: 16px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
         }
         
         .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5);
            border-color: rgba(255, 255, 255, 0.2);
         }
         
         .form-control {
            transition: all 0.3s ease;
            border: 1px solid #475569;
            background-color: rgba(15, 23, 42, 0.6);
            color: #f1f5f9;
         }
         
         .form-control:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
            background-color: rgba(15, 23, 42, 0.9);
         }

         /* Dropdown options styling hack for dark mode */
         .form-control option {
            background-color: #1e293b;
            color: white;
         }
         
         .btn {
            transition: all 0.3s ease;
            background-image: var(--primary-gradient);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
         }
         
         .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
         }
         
         .result-card {
            transition: all 0.3s ease;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
         }
         
         @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
         }

         .banner-container {
            width: 100%;
            overflow: hidden;
            border-radius: 16px;
            margin-bottom: 5px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            border: 1px solid var(--glass-border);
         }

         .banner-img {
            width: 100%;
            object-fit: cover;
            display: block;
            filter: brightness(0.85);
            transition: filter 0.3s ease;
         }

         .banner-container:hover .banner-img {
            filter: brightness(1);
         }
         
         /* Styling for the marquee text */
         .marquee-container {
            background: linear-gradient(90deg, rgba(30,41,59,0.9) 0%, rgba(71,85,105,0.4) 50%, rgba(30,41,59,0.9) 100%);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(5px);
            border-radius: 12px;
            padding: 10px 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
         }
         
         .marquee-text {
            color: #e2e8f0;
            font-weight: 500;
            font-size: 0.95rem;
            white-space: nowrap;
            animation: marquee 20s linear infinite;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
         }
         
         @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
         }
         
         /* Sidebar Styles */
         .sidebar {
            position: fixed;
            height: 100%;
            width: 280px;
            top: 0;
            right: -280px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(15px);
            border-left: 1px solid var(--glass-border);
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.5);
            z-index: 1000;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 25px;
            overflow-y: auto;
         }
         
         .sidebar.active {
            right: 0;
         }
         
         .close-btn i {
            font-size: 1.4rem;
            cursor: pointer;
            color: #94a3b8;
            transition: color 0.2s;
         }

         .close-btn i:hover {
            color: #f87171;
         }
         
         .sidebar h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
         }
         
         .sidebar p {
            color: #94a3b8;
            margin-bottom: 30px;
            font-size: 0.9rem;
         }
         
         .sidebar .links {
            display: flex;
            flex-direction: column;
            gap: 12px;
         }
         
         .sidebar .links a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            border-radius: 12px;
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.2s ease;
            background: rgba(255,255,255,0.03);
            border: 1px solid transparent;
         }
         
         .sidebar .links a:hover {
            background-color: rgba(139, 92, 246, 0.15);
            border-color: rgba(139, 92, 246, 0.3);
            color: white;
         }
         
         .sidebar .links a i {
            color: #8b5cf6;
            width: 20px;
         }
         
         /* Hamburger button */
         .hamburger-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: var(--glass-bg);
            backdrop-filter: blur(5px);
            border: 1px solid var(--glass-border);
            width: 45px;
            height: 45px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
         }
         
         .hamburger-button:hover {
            transform: scale(1.05);
            border-color: #8b5cf6;
         }
         
         .hamburger-button span {
            display: block;
            width: 24px;
            height: 2px;
            background-color: #e2e8f0;
            border-radius: 1px;
            transition: all 0.3s;
         }
         
         .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(3px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
         }
         
         .overlay.active {
            opacity: 1;
            visibility: visible;
         }

         /* Custom Scrollbar */
         ::-webkit-scrollbar {
            width: 8px;
         }
         ::-webkit-scrollbar-track {
            background: #0f172a; 
         }
         ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
         }
         ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
         }
      </style>
   </head>
   <body>
      <div class="hamburger-button" id="hamburgerButton">
         <span></span>
         <span></span>
         <span></span>
      </div>
      
      <div class="sidebar" id="sidebar">
         <div class="close-btn text-right mb-4">
            <i class="fas fa-times" onclick="toggleSidebar()"></i>
         </div>
         <h2>Momot Store</h2>
         <p>Professional Game Topup & Tools</p>
         <div class="links">
            <a href="/dokumentasi"><i class="fas fa-book-open"></i> Dokumentasi</a>
            <a href="/endpoint"><i class="fas fa-network-wired"></i> Visit Endpoint</a>
            <a href="#"><i class="fas fa-shopping-cart"></i> Pricelist</a>
            <a href="#"><i class="fas fa-headset"></i> Contact Support</a>
         </div>
      </div>
      
      <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

      <div class="w-full min-h-screen flex justify-center py-8 px-4">
         <div class="container md:w-2/3 lg:w-1/2 w-full flex flex-col gap-6">
            
            <div class="banner-container">
               <img src="https://files.catbox.moe/la84wo.jpg" alt="Game ID Checker Banner" class="banner-img">
            </div>
            
            <div class="marquee-container">
               <div class="marquee-text">
                  âœ¨ WELCOME TO MOMOT STORE! ðŸ”¥ OPEN ORDER Scraping stalk username untuk bot WhatsApp...! ðŸŽ® Fast & Secure Transaction.
               </div>
            </div>
            
            <div class="w-full flex items-center justify-center card p-5">
               <div class="flex items-center gap-4">
                  <div class="bg-indigo-500/20 p-2 rounded-lg border border-indigo-500/30">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                     </svg>
                  </div>
                  <div>
                     <h1 class="text-2xl font-bold text-white tracking-wide">Momot Store</h1>
                     <span class="text-xs text-indigo-300 font-medium tracking-widest uppercase">Game ID Checker</span>
                  </div>
               </div>
            </div>
            
            <div class="card p-6 md:p-8">
               <div class="flex items-center justify-between mb-6">
                  <h2 class="text-lg font-semibold text-indigo-300">ðŸ”Ž Check ID Game</h2>
                  <div class="h-1 w-12 bg-indigo-500 rounded-full"></div>
               </div>
               
               <form action="" class="flex flex-col gap-5">
                  <div class="form-group">
                     <label for="game" class="block text-sm font-medium text-gray-300 mb-2 pl-1">Pilih Game</label>
                     <div class="relative">
                        <select
                           name="game"
                           id="game"
                           class="form-control w-full p-3 rounded-xl focus:outline-none shadow-sm appearance-none cursor-pointer"
                        ></select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-indigo-400">
                           <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                        </div>
                     </div>
                  </div>
                  
                  <div class="form-group">
                     <label for="id" class="block text-sm font-medium text-gray-300 mb-2 pl-1">ID Game</label>
                     <input
                        type="text"
                        name="id"
                        id="id"
                        class="form-control w-full p-3 rounded-xl focus:outline-none shadow-sm"
                        placeholder="Masukkan ID Akun"
                     />
                  </div>

                  <div class="form-group" id="zone-form"></div>

                  <button type="submit" class="btn mt-4 py-3.5 px-4 rounded-xl text-white font-medium shadow-lg hover:shadow-indigo-500/40 active:scale-[0.98]">
                     <div class="flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <span>Cek Username</span>
                     </div>
                  </button>
               </form>
            </div>
            
            <div class="card result-card p-6 hidden" id="result"></div>

            <div class="w-full text-center py-4 mt-2">
               <p class="text-sm text-slate-500">
                  &copy; 2025 <span class="text-indigo-400 font-semibold">Momot Store</span> | All Rights Reserved
               </p>
            </div>
         </div>
      </div>
      
      <script>
         // Sidebar toggle functionality
         const hamburgerButton = document.getElementById('hamburgerButton');
         const sidebar = document.getElementById('sidebar');
         const overlay = document.getElementById('overlay');
         
         function toggleSidebar() {
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
            
            // Animate hamburger lines
            const spans = hamburgerButton.querySelectorAll('span');
            if(sidebar.classList.contains('active')) {
               spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
               spans[1].style.opacity = '0';
               spans[2].style.transform = 'rotate(-45deg) translate(5px, -5px)';
            } else {
               spans[0].style.transform = 'none';
               spans[1].style.opacity = '1';
               spans[2].style.transform = 'none';
            }
         }
         
         hamburgerButton.addEventListener('click', toggleSidebar);
      
         document.querySelector('#result').classList.add('hidden');

         const game = document.querySelector('#game');
         (async () => {
            const res = await fetch('/endpoint');
            try {
               const data = await res.json();
               data.data.forEach((item) => {
                  const option = document.createElement('option');
                  option.value = item.endpoint;
                  option.textContent = item.name;
                  option.setAttribute('data-isZone', item.hasZoneId);
                  option.setAttribute('data-listZone', item.listZoneId);

                  game.appendChild(option);
               });
            } catch (error) {
               console.log(error);
            }
         })();

         const gameOption = document.querySelectorAll('#game');
         game.addEventListener('change', (e) => {
            const option = e.target.options[e.target.selectedIndex];
            const isZone = option.getAttribute('data-isZone');
            const listZone = option.getAttribute('data-listZone');
            const zoneForm = document.querySelector('#zone-form');

            if (isZone == 'true' && listZone == 'null') {
               const zoneLabel = document.createElement('label');
               zoneLabel.classList.add('block', 'text-sm', 'font-medium', 'text-gray-300', 'mb-2', 'pl-1');
               zoneForm.innerHTML = `<input
                     type="text"
                     name="zone"
                     id="zone"
                     class="form-control w-full p-3 rounded-xl focus:outline-none shadow-sm"
                     placeholder="Masukkan Zone ID"
                  />`;
               zoneForm.prepend(zoneLabel);
               zoneLabel.textContent = 'Zone ID';
            } else if (isZone == 'true' && listZone != 'null') {
               const getListZone = async () => {
                  zoneForm.innerHTML = '';
                  const zone = document.createElement('select');
                  // Updated classes for dark mode dropdown
                  zone.classList.add('form-control', 'w-full', 'p-3', 'rounded-xl', 'focus:outline-none', 'shadow-sm', 'cursor-pointer');
                  zone.setAttribute('id', 'zone');
                  const zoneLabel = document.createElement('label');
                  zoneLabel.classList.add('block', 'text-sm', 'font-medium', 'text-gray-300', 'mb-2', 'pl-1');
                  const listZoneId = await fetch(`${option.getAttribute('data-listZone')}`);

                  try {
                     const listZoneIdJson = await listZoneId.json();

                     listZoneIdJson.data?.forEach((item) => {
                        const option = document.createElement('option');
                        option.value = item.zoneId;
                        option.textContent = item.name;

                        zone.appendChild(option);
                     });
                     
                     // Wrap select for custom arrow icon consistency (simplified here)
                     const wrapper = document.createElement('div');
                     wrapper.classList.add('relative');
                     wrapper.appendChild(zone);
                     
                     // Add arrow icon programmatically to match style
                     const arrow = document.createElement('div');
                     arrow.innerHTML = '<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>';
                     arrow.classList.add('pointer-events-none', 'absolute', 'inset-y-0', 'right-0', 'flex', 'items-center', 'px-4', 'text-indigo-400');
                     wrapper.appendChild(arrow);

                     zoneForm.appendChild(wrapper);
                     zoneForm.prepend(zoneLabel);
                     zoneLabel.textContent = 'Zone ID';
                  } catch (error) {
                     console.log(error.message);
                  }
               };

               getListZone();
            } else {
               zoneForm.innerHTML = '';
            }
         });

         const form = document.querySelector('form');
         const id = document.querySelector('#id');
         const zone = document.querySelector('#zone');

         form.addEventListener('submit', (e) => {
            document.querySelector('#result').classList.add('hidden');
            const button = document.querySelector('button');
            button.innerHTML = '<div class="flex items-center justify-center gap-2"><svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><span>Processing...</span></div>';
            button.classList.add('opacity-70', 'cursor-not-allowed');
            button.setAttribute('disabled', 'disabled');

            e.preventDefault();

            if (e.target.id.value === '' || e.target.game.value === '' || e.target?.zone?.value === '') {
               // Elegant error notification
               const errorDiv = document.createElement('div');
               errorDiv.classList.add('bg-red-500/10', 'border', 'border-red-500/50', 'text-red-200', 'px-4', 'py-3', 'rounded-xl', 'mb-4', 'backdrop-blur-sm');
               errorDiv.innerHTML = '<div class="flex items-center"><i class="fas fa-exclamation-circle mr-2"></i><span>Mohon lengkapi ID Game dan Zone ID</span></div>';
               
               form.prepend(errorDiv);
               setTimeout(() => {
                  errorDiv.remove();
                  button.innerHTML = '<div class="flex items-center justify-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg><span>Cek Username</span></div>';
                  button.classList.remove('opacity-70', 'cursor-not-allowed');
                  button.removeAttribute('disabled');
               }, 3000);
            } else {
               (async () => {
                  const res = await fetch(
                     `${e.target.game.value}?id=${encodeURIComponent(e.target.id.value)}&zone=${
                        e.target?.zone?.value || ''
                     }`
                  );
                  try {
                     const data = await res.json();
                     if (data.status) {
                        // Modified result HTML to match Dark Glass Theme
                        let resHtml = `
                        <div class="flex items-center justify-between mb-4 border-b border-gray-700/50 pb-3">
                           <div class="flex items-center gap-2">
                              <i class="fas fa-check-circle text-green-400"></i>
                              <h3 class="text-lg font-semibold text-white">Akun Ditemukan</h3>
                           </div>
                           <span class="px-3 py-1 bg-green-500/20 border border-green-500/30 text-green-300 text-xs font-medium rounded-full shadow-lg shadow-green-900/20">Success</span>
                        </div>
                        <div class="bg-slate-800/50 border border-slate-700 p-5 rounded-xl">
                           <div class="grid md:grid-cols-3 gap-6">
                              <div class="flex flex-col">
                                 <span class="text-xs text-indigo-300 uppercase tracking-wider mb-1">Username</span>
                                 <span class="text-base font-bold text-white break-words">${data.data?.username}</span>
                              </div>
                              <div class="flex flex-col">
                                 <span class="text-xs text-indigo-300 uppercase tracking-wider mb-1">ID Game</span>
                                 <span class="text-base font-medium text-gray-200">${data.data?.user_id}</span>
                              </div>
                              <div class="flex flex-col">
                                 <span class="text-xs text-indigo-300 uppercase tracking-wider mb-1">Zone / Server</span>
                                 <span class="text-base font-medium text-gray-200">${data.data?.zone_id || '-'}</span>
                              </div>
                           </div>
                        </div>`;
                        document.querySelector('#result').innerHTML = resHtml;
                        document.querySelector('#result').classList.remove('hidden');
                     } else {
                        // Modified error HTML to match Dark Glass Theme
                        let resHtml = `
                        <div class="flex items-center justify-between mb-3 border-b border-gray-700/50 pb-3">
                           <div class="flex items-center gap-2">
                              <i class="fas fa-times-circle text-red-400"></i>
                              <h3 class="text-lg font-semibold text-white">Tidak Ditemukan</h3>
                           </div>
                           <span class="px-3 py-1 bg-red-500/20 border border-red-500/30 text-red-300 text-xs font-medium rounded-full">Not Found</span>
                        </div>
                        <div class="bg-red-500/5 border border-red-500/10 p-4 rounded-xl">
                           <p class="text-sm text-red-200">${data.message}</p>
                        </div>`;
                        document.querySelector('#result').innerHTML = resHtml;
                        document.querySelector('#result').classList.remove('hidden');
                     }
                  } catch (error) {
                     console.log(error);
                     let resHtml = `
                     <div class="flex items-center justify-between mb-3">
                        <h3 class="text-lg font-semibold text-white">Error</h3>
                        <span class="px-2 py-1 bg-red-500/20 text-red-300 text-xs font-medium rounded-full">Failed</span>
                     </div>
                     <div class="bg-slate-800/50 p-4 rounded-xl">
                        <p class="text-sm text-gray-300">Terjadi kesalahan saat memproses permintaan.</p>
                     </div>`;
                     document.querySelector('#result').innerHTML = resHtml;
                     document.querySelector('#result').classList.remove('hidden');
                  }
                  button.innerHTML = '<div class="flex items-center justify-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg><span>Cek Username</span></div>';
                  button.classList.remove('opacity-70', 'cursor-not-allowed');
                  button.removeAttribute('disabled');
               })();
            }
         });
         
         // Marquee fallback
         document.addEventListener('DOMContentLoaded', function() {
            const marqueeText = document.querySelector('.marquee-text');
            if (!CSS.supports('animation', 'marquee 20s linear infinite')) {
               // ... (logic sama seperti sebelumnya)
            }
         });
      </script>
   </body>
</html>
